{
  "context": {
    "checktime": "1",
    "timeout": "120"
  },
  "flow": [
    {
      "command": "runInstance",
      "id": "runInstance1",
      "set": [
        "instanceId"
      ],
      "input": {
        "shape": "$Shape1",
        "imageId": "$Image1",
        "keyName": "$Ssh key1",
        "scripts": "$Script1",
        "count": "$Count1",
        "expiration": "$Stop after1"
      },
      "next": [
        {
          "for": {
            "field": "state",
            "required": "running"
          },
          "command": "waitInstance",
          "id": "waitInstance1",
          "input": {
            "checktime": "1",
            "timeout": "120"
          }
        }
      ]
    }
  ],
  "outputs": [
    {
      "key": "dnsName1",
      "value": "$runInstance1.dnsName",
      "description": "Dns name"
    },
    {
      "key": "instanceId1",
      "value": "$runInstance1.instanceId",
      "description": "Instance id"
    },
    {
      "key": "owner1",
      "value": "$runInstance1.owner",
      "description": "Owner"
    }
  ],
  "parameters": [
    {
      "name": "Shape1",
      "type": "String",
      "allowedValues": [
        "OR2::Shape"
      ],
      "title": "Shape"
    },
    {
      "name": "Image1",
      "type": "String",
      "allowedValues": [
        "OR2::Image"
      ],
      "title": "Image"
    },
    {
      "name": "Ssh key1",
      "type": "String",
      "defaultValue": "",
      "allowedValues": [
        "OR2::Key"
      ],
      "title": "Ssh key"
    },
    {
      "name": "Script1",
      "type": "String",
      "defaultValue": "",
      "allowedValues": [
        "OR2::Script"
      ],
      "title": "Script"
    },
    {
      "name": "Count1",
      "type": "Number",
      "defaultValue": "1",
      "maxValue": "5",
      "minValue": "1",
      "title": "Count"
    },
    {
      "name": "Stop after1",
      "type": "String",
      "defaultValue": "",
      "allowedPattern": "^(\\d)+([h]|[H])+$",
      "constraintDescription": "You should input value in hours 'hH'. For example: 2h.",
      "title": "Stop after"
    }
  ]
}